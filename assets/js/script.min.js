var collapsibleList=document.getElementsByClassName("collapsible");function hideOtherCollapse(e){for(let t=0;t<collapsibleList.length;t++){let n=collapsibleList[t],i=n.nextElementSibling,o=n.parentElement;e!==collapsibleList[t]&&(n.firstElementChild.classList.remove("active"),i.style.maxHeight=null,n.style.background=null,o.style.color=null)}}for(let e=0;e<collapsibleList.length;e++)collapsibleList[e].addEventListener("click",function(){this.firstElementChild.classList.toggle("active");let e=this.nextElementSibling,t=this.parentElement;e.style.maxHeight?(e.style.maxHeight=null,this.style.background=null,t.style.color=null):(e.style.maxHeight=e.scrollHeight+"px",this.style.background="#E0E0E0",t.style.color="#0B667E",hideOtherCollapse(this))});setTimeout(function(){collapsibleList[0].click()},500);var current=0,positions={front:"rotateY(0deg) translateZ(250px)",right:"rotateY(77deg) translateZ(140px)",back:"rotateY(0deg) translateZ(100px)",left:"rotateY(-77deg) translateZ(140px)"};function carousel(e,t){let n=Array.from(document.querySelectorAll(".major-card")),i=[positions.front,positions.right,positions.back,positions.left];function o(){n.map((e,t)=>{e.style.transform=i[t],positions.front===i[t]?e.style.zIndex="10":e.style.zIndex=null})}function r(){current=-1===(current=(current+1)%4)?3:current,i.splice(0,0,i.pop()),o()}function l(){current=-1===(current=(current-1)%4)?3:current,i.push(i.shift()),o()}this.init=function(){document.querySelector(".major-card.is-1").style.zIndex="10",prevElement=document.querySelector(e),nextElement=document.querySelector(t),prevElement.addEventListener("click",l),nextElement.addEventListener("click",r),function(){const e=document.getElementById("swipeable");let t={onMove:!1};e.addEventListener("touchstart",e=>{t.onMove=!0,t.x=e.changedTouches[0].pageX,t.timeStamp=e.timeStamp}),e.addEventListener("touchend",e=>{if(t.onMove){t.onMove=!1;const n=e.changedTouches[0].pageX-t.x;t.x=0;const i=window.innerWidth<=576,o=e.timeStamp-t.timeStamp>100,a=Math.abs(n)>40;i&&o&&a&&(n>0?l():r()),t.timeStamp=0}})}()}}let branchCarousel=new carousel("#major-left","#major-right");function getViewport(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}branchCarousel.init();let viewDetailButtons=Array.from(document.querySelectorAll(".side.front")),majorCards=Array.from(document.querySelectorAll(".major-card"));function viewDetail(e){const[t,n]=getViewport();selectedBranch=e.getAttribute("data-branch"),t<576&&{0:"content",1:"design",2:"marketing",3:"programming"}[current]!==selectedBranch||e.classList.toggle("active")}majorCards.map(e=>{e.addEventListener("click",function(e){if("view-question"===e.target.name)return e.preventDefault();viewDetail(this)},!1)}),document.addEventListener("click",function(e){if(e.target.closest(".major-card")||e.target.closest(".modal-container")||majorCards.map(e=>{e.classList.remove("active")}),!e.target.closest("nav")){let e=document.querySelector(".navicon-button"),t=document.querySelector(".nav-list");e.classList.remove("open"),t.classList.remove("show")}}),document.querySelector(".navicon-button").addEventListener("click",function(){this.classList.toggle("open"),document.querySelector(".nav-list").classList.toggle("show")});var viewQuestionButtons=document.querySelectorAll(".view-question-button"),modals=document.querySelectorAll(".modal-container");for(let e=0;e<viewQuestionButtons.length;e++)viewQuestionButtons[e].addEventListener("click",function(){let e=this.getAttribute("data-target");document.getElementById(e).classList.toggle("show")});var closeModalButtons=document.querySelectorAll(".close-modal");for(let e=0;e<closeModalButtons.length;e++)closeModalButtons[e].addEventListener("click",function(){let e=this.getAttribute("data-target");document.getElementById(e).classList.remove("show")});for(let e=0;e<modals.length;e++)modals[e].addEventListener("click",function(){event.target.closest(".modal-body")||this.classList.toggle("show")});Date.prototype.isAfter=function(e){return this.getTime()>e.getTime()};var registerStartDate=new Date("1 March 2019 GMT+0700"),registerEndDate=new Date("20 March 2019 23:59:59 GMT+0700"),announceStartDate=new Date("24 March 2019 GMT+0700"),confirmStartDate=new Date("24 March 2019 GMT+0700"),confirmEndDate=new Date("27 March 2019 23:59:59 GMT+0700"),campStartDate=new Date("6 April 2019 GMT+0700"),campEndDate=new Date("8 April 2019 23:59:59 GMT+0700"),now=new Date;checkOrders=[{start:campStartDate,end:campEndDate,element:"timeline-camp"},{start:confirmStartDate,end:confirmEndDate,element:"timeline-confirm"},{start:announceStartDate,end:announceStartDate,element:"timeline-announce"},{start:registerStartDate,end:registerEndDate,element:"timeline-register"}];let active=!0;function updateRegisteredUser(){const e=document.getElementById("content-card"),t=document.getElementById("marketing-card"),n=document.getElementById("design-card"),i=document.getElementById("programming-card"),o=e=>`สมัครแล้ว ${e} คน`;$.get("https://us-central1-jwcxi-registration.cloudfunctions.net/campers").then(r=>{e.innerHTML=o(r.content),t.innerHTML=o(r.marketing),n.innerHTML=o(r.design),i.innerHTML=o(r.programming)})}checkOrders.map(e=>{if(now.isAfter(e.start)){let t=document.getElementById(e.element);t.querySelector(".timeline-icon").classList.add("active");const n=!now.isAfter(e.end);active&&n&&(t.firstElementChild.classList.add("active"),active=!1)}}),updateRegisteredUser();